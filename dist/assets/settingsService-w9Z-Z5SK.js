const a={learningSteps:"1 10",relearningSteps:"10",dailyNewCardsLimit:20,dailyReviewLimit:200,enableTraditionalLearningSteps:!1},u={requestRetention:.9,maximumInterval:36500,easyBonus:1.3,hardFactor:1.2,enableShortTerm:!1},n="userSettings";async function r(){try{const t=(await chrome.storage.sync.get(n))[n];return{...a,...t}}catch(e){return console.error("Failed to load user settings:",e),a}}async function l(e){try{const i={...await r(),...e};await chrome.storage.sync.set({[n]:i}),console.log("User settings saved successfully:",i)}catch(t){throw console.error("Failed to save user settings:",t),new Error("Failed to save settings")}}function c(e){const t=i=>{if(i[n]){const o=i[n].newValue;e(o)}};chrome.storage.onChanged.addListener(t)}function s(e){return e.split(" ").map(t=>parseInt(t.trim(),10)).filter(t=>!isNaN(t)&&t>0)}function d(e){const t=[];if(e.learningSteps!==void 0&&s(e.learningSteps).length===0&&t.push("Learning steps must contain at least one valid number"),e.relearningSteps!==void 0&&s(e.relearningSteps).length===0&&t.push("Relearning steps must contain at least one valid number"),e.dailyNewCardsLimit!==void 0&&(e.dailyNewCardsLimit<0||e.dailyNewCardsLimit>1e3)&&t.push("Daily new cards limit must be between 0 and 1000"),e.dailyReviewLimit!==void 0&&(e.dailyReviewLimit<0||e.dailyReviewLimit>1e4)&&t.push("Daily review limit must be between 0 and 10000"),e.geminiApiKey!==void 0&&e.geminiApiKey.trim()){const i=e.geminiApiKey.trim();!i.startsWith("AIza")&&!i.startsWith("AIza")&&t.push('Gemini API key must start with "AIza"'),i.length<35&&t.push("Gemini API key appears to be too short")}return t}const m=Object.freeze(Object.defineProperty({__proto__:null,addSettingsChangeListener:c,getSettings:r,parseLearningSteps:s,saveSettings:l,validateSettings:d},Symbol.toStringTag,{value:"Module"}));export{a as D,u as a,c as b,m as c,r as g,s as p,l as s,d as v};
