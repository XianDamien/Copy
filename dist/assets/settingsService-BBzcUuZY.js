const n={learningSteps:"1 10",relearningSteps:"10",dailyNewCardsLimit:20,dailyReviewLimit:200},l={requestRetention:.9,maximumInterval:36500,easyBonus:1.3,hardFactor:1.2,enableShortTerm:!1},i="userSettings";async function o(){try{const t=(await chrome.storage.sync.get(i))[i];return{...n,...t}}catch(e){return console.error("Failed to load user settings:",e),n}}async function c(e){try{const s={...await o(),...e};await chrome.storage.sync.set({[i]:s}),console.log("User settings saved successfully:",s)}catch(t){throw console.error("Failed to save user settings:",t),new Error("Failed to save settings")}}function d(e){const t=s=>{if(s[i]){const r=s[i].newValue;e(r)}};chrome.storage.onChanged.addListener(t)}function a(e){return e.split(" ").map(t=>parseInt(t.trim(),10)).filter(t=>!isNaN(t)&&t>0)}function u(e){const t=[];return e.learningSteps!==void 0&&a(e.learningSteps).length===0&&t.push("Learning steps must contain at least one valid number"),e.relearningSteps!==void 0&&a(e.relearningSteps).length===0&&t.push("Relearning steps must contain at least one valid number"),e.dailyNewCardsLimit!==void 0&&(e.dailyNewCardsLimit<0||e.dailyNewCardsLimit>1e3)&&t.push("Daily new cards limit must be between 0 and 1000"),e.dailyReviewLimit!==void 0&&(e.dailyReviewLimit<0||e.dailyReviewLimit>1e4)&&t.push("Daily review limit must be between 0 and 10000"),t}export{n as D,l as a,d as b,o as g,c as s,u as v};
