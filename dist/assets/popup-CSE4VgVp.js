import{c as f,j as e,r,A as N,C as l,S as b,B as o,a as g}from"./globals-D4P3j0Yi.js";import"./_commonjsHelpers-BosuxZz1.js";const w=()=>{const[t,d]=r.useState([]),[x,n]=r.useState(!0),c=new N;r.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const[s,u]=await Promise.all([c.getAllDecks(),c.getDueCards()]),j=s.map(i=>{const y=u.filter(v=>!0).length;return{id:i.id,name:i.name,dueCount:y}});d(j)}catch(s){console.error("Failed to load data:",s)}finally{n(!1)}},a=()=>{chrome.tabs.create({url:chrome.runtime.getURL("src/main/index.html")}),window.close()},h=()=>{chrome.tabs.create({url:chrome.runtime.getURL("src/main/index.html?page=settings")}),window.close()};return x?e.jsx("div",{className:"w-80 h-96 bg-primary-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2 text-primary-600",children:[e.jsx(l,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"加载中..."})]})}):e.jsxs("div",{className:"w-80 bg-primary-50 border border-primary-200",children:[e.jsxs("div",{className:"bg-primary-700 text-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{className:"w-6 h-6"}),e.jsx("h1",{className:"text-lg font-bold",children:"AnGear"})]}),e.jsx("button",{onClick:h,className:"p-1 hover:bg-primary-600 rounded transition-colors",children:e.jsx(b,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-primary-200 text-sm mt-1",children:"工业级语言学习工具"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"w-full",children:e.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-3 rounded-industrial transition-colors",children:[e.jsx(o,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"打开主应用"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-sm font-semibold text-primary-700 flex items-center space-x-2",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:"学习状态"})]}),t.length===0?e.jsxs("div",{className:"text-center py-6 text-primary-500",children:[e.jsx(o,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"暂无牌组"}),e.jsx("button",{onClick:a,className:"text-accent-600 hover:text-accent-700 text-sm font-medium mt-1",children:"创建第一个牌组"})]}):e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-white border border-primary-200 rounded-industrial px-3 py-2 hover:bg-primary-25 transition-colors cursor-pointer",onClick:a,children:[e.jsx("span",{className:"text-sm font-medium text-primary-700 truncate",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.dueCount>0&&e.jsx("span",{className:"bg-error text-white text-xs px-2 py-1 rounded-full",children:s.dueCount}),e.jsx("span",{className:"text-xs text-primary-500",children:"到期"})]})]},s.id))})]})]})]})},m=document.getElementById("popup-root");m&&f(m).render(e.jsx(w,{}));
