import{a as u,j as e,r as i,C as p,S as g}from"./globals-DRH6KC8u.js";import{S as f}from"./save-CbFMnBkv.js";import"./_commonjsHelpers-BosuxZz1.js";const m={theme:"light",language:"zh-CN",notifications:!0,autoPlayAudio:!0,fsrs:{requestRetention:.9,maximumInterval:36500,easyBonus:1.3,hardFactor:1.2,enableShortTerm:!1}},j=()=>{const[a,r]=i.useState(m),[l,c]=i.useState(!1);i.useEffect(()=>{x()},[]);const x=async()=>{try{const s=await chrome.storage.sync.get("appConfig");s.appConfig&&r({...m,...s.appConfig})}catch(s){console.error("Failed to load config:",s)}},h=async()=>{try{await chrome.storage.sync.set({appConfig:a}),c(!0),setTimeout(()=>c(!1),2e3)}catch(s){console.error("Failed to save config:",s)}},n=(s,t)=>{r(o=>({...o,fsrs:{...o.fsrs,[s]:t}}))};return e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("header",{className:"bg-primary-700 text-white shadow-industrial",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(p,{className:"w-8 h-8"}),e.jsx("h1",{className:"text-2xl font-bold",children:"AnGear 设置"})]}),e.jsx("p",{className:"text-primary-200 mt-1",children:"配置您的语言学习体验"})]})}),e.jsx("main",{className:"max-w-4xl mx-auto px-6 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"card-industrial p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-primary-900 mb-4 flex items-center space-x-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:"基础设置"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"主题"}),e.jsxs("select",{value:a.theme,onChange:s=>r(t=>({...t,theme:s.target.value})),className:"input-industrial",children:[e.jsx("option",{value:"light",children:"浅色主题"}),e.jsx("option",{value:"dark",children:"深色主题"}),e.jsx("option",{value:"auto",children:"跟随系统"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"语言"}),e.jsxs("select",{value:a.language,onChange:s=>r(t=>({...t,language:s.target.value})),className:"input-industrial",children:[e.jsx("option",{value:"zh-CN",children:"简体中文"}),e.jsx("option",{value:"en-US",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"notifications",checked:a.notifications,onChange:s=>r(t=>({...t,notifications:s.target.checked})),className:"w-4 h-4 text-accent-600 bg-primary-100 border-primary-300 rounded focus:ring-accent-500"}),e.jsx("label",{htmlFor:"notifications",className:"text-sm font-medium text-primary-700",children:"启用通知"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"autoPlayAudio",checked:a.autoPlayAudio,onChange:s=>r(t=>({...t,autoPlayAudio:s.target.checked})),className:"w-4 h-4 text-accent-600 bg-primary-100 border-primary-300 rounded focus:ring-accent-500"}),e.jsx("label",{htmlFor:"autoPlayAudio",className:"text-sm font-medium text-primary-700",children:"自动播放音频"})]})]})]}),e.jsxs("section",{className:"card-industrial p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary-900 mb-4",children:"FSRS 算法参数"}),e.jsx("p",{className:"text-primary-600 text-sm mb-6",children:"调整间隔重复算法参数以优化学习效果"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:["期望记忆保持率 (",(a.fsrs.requestRetention*100).toFixed(0),"%)"]}),e.jsx("input",{type:"range",min:"0.8",max:"0.95",step:"0.01",value:a.fsrs.requestRetention,onChange:s=>n("requestRetention",parseFloat(s.target.value)),className:"w-full h-2 bg-primary-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-primary-500 mt-1",children:[e.jsx("span",{children:"80%"}),e.jsx("span",{children:"95%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"最大复习间隔 (天)"}),e.jsx("input",{type:"number",min:"365",max:"36500",value:a.fsrs.maximumInterval,onChange:s=>n("maximumInterval",parseInt(s.target.value)),className:"input-industrial"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"简单加成因子"}),e.jsx("input",{type:"number",min:"1.1",max:"2.0",step:"0.1",value:a.fsrs.easyBonus,onChange:s=>n("easyBonus",parseFloat(s.target.value)),className:"input-industrial"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"困难惩罚因子"}),e.jsx("input",{type:"number",min:"1.0",max:"2.0",step:"0.1",value:a.fsrs.hardFactor,onChange:s=>n("hardFactor",parseFloat(s.target.value)),className:"input-industrial"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"enableShortTerm",checked:a.fsrs.enableShortTerm||!1,onChange:s=>n("enableShortTerm",s.target.checked),className:"w-4 h-4 text-accent-600 bg-primary-100 border-primary-300 rounded focus:ring-accent-500"}),e.jsx("label",{htmlFor:"enableShortTerm",className:"text-sm font-medium text-primary-700",children:"启用短期记忆模式"})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:h,className:`btn-primary flex items-center space-x-2 ${l?"bg-success hover:bg-green-600":""}`,children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:l?"已保存":"保存设置"})]})})]})})]})},d=document.getElementById("options-root");d&&u(d).render(e.jsx(j,{}));
