# LanGear Chrome Extension - 项目概述

**文档版本**: 2025年7月11日  
**项目状态**: Phase 2 完成，准备进入 Phase 3 音频增强阶段

## 项目简介

LanGear 是一个基于 Chrome 扩展的智能语言学习平台，结合了间隔重复系统(SRS)、AI 驱动的内容生成和任务驱动学习方法。项目从基础的 SRS 工具发展为先进的学习平台，支持多种学习模式和智能内容处理。

## 技术架构

### 核心技术栈
- **前端框架**: React 18 + TypeScript
- **构建工具**: Vite + Tailwind CSS
- **数据存储**: IndexedDB (本地存储)
- **AI 服务**: Google Gemini API (智能翻译和文本处理)
- **学习算法**: FSRS (Free Spaced Repetition Scheduler)
- **测试框架**: Vitest + Testing Library

### 扩展架构
- **Background Service**: 数据管理、AI 服务、调度算法
- **Content Script**: 网页内容提取和交互
- **Popup**: 快速操作界面
- **Main App**: 完整学习界面

## 核心功能

### 1. 智能卡片管理
- **批量导入**: 支持文本批量导入和AI自动处理
- **双语对齐**: AI智能识别和对齐中英文内容
- **卡片编辑**: 富文本编辑器支持复杂内容格式

### 2. 任务驱动学习
- **学习模式**: 传统复习模式 + 任务驱动模式
- **进度跟踪**: 实时学习进度和统计分析
- **自适应调度**: 基于FSRS算法的智能复习安排

### 3. AI 增强功能
- **Gemini API 集成**: 智能翻译和内容优化
- **双语文本处理**: 自动识别语言并进行对齐
- **上下文理解**: 基于上下文的智能翻译

### 4. 数据管理
- **本地存储**: IndexedDB 实现离线使用
- **数据同步**: 支持导入/导出功能
- **备份恢复**: 完整的数据备份机制

## 开发历程

### Phase 1: 基础架构 (2024年6月-12月)
- 建立核心SRS系统
- 实现基础UI组件
- 集成IndexedDB存储
- 建立测试框架

### Phase 2: 智能化增强 (2024年12月-2025年6月)
- 集成Gemini API
- 实现AI驱动批量导入
- 开发任务驱动学习界面
- 解决关键技术债务

**主要成就**:
- 解决了"ReferenceError: window is not defined"问题
- 实现了100%测试覆盖率
- 完成了组件化架构重构
- 建立了稳定的AI服务集成

## 即将推出：Phase 3 音频增强功能

### 音频+字幕批量制卡
**目标**: 用户上传音频文件和字幕文件，通过可视化界面手动分割音频，AI自动翻译生成学习卡片

### 技术实现方案
- **音频可视化**: wavesurfer.js + Regions plugin
- **字幕解析**: @plussub/srt-vtt-parser 支持SRT/VTT格式
- **音频处理**: Web Audio API 实现毫秒级精确切割
- **AI翻译**: 集成现有Gemini API服务

### 开发计划
1. **基础设施搭建** (3-4天)
   - 扩展数据库schema支持音频存储
   - 实现音频文件上传和管理

2. **字幕解析与同步** (4-5天)
   - 集成字幕解析库
   - 实现音频-字幕时间轴同步

3. **可视化切割界面** (5-6天)
   - 集成wavesurfer.js
   - 实现拖拽式音频区域选择

4. **批量AI翻译** (3-4天)
   - 批量处理音频片段
   - 音频Blob存储优化

5. **用户体验优化** (2-3天)
   - 进度指示器
   - 错误处理和用户反馈

## 项目优势

### 技术优势
- **零依赖AI集成**: 使用原生fetch API替代第三方SDK
- **组件化架构**: 高度模块化的React组件设计
- **类型安全**: 完整的TypeScript类型定义
- **测试覆盖**: 全面的单元测试和集成测试

### 用户体验优势
- **离线使用**: 完整的本地存储支持
- **智能学习**: AI驱动的内容优化
- **灵活学习**: 多种学习模式支持
- **进度跟踪**: 详细的学习分析

## 开发团队

- **开发模式**: AI辅助开发 + 用户反馈驱动
- **开发周期**: 6个月持续迭代
- **代码质量**: 严格的TypeScript和测试标准
- **文档维护**: 完整的开发文档和API文档

## 未来路线图

### 短期目标 (2025年7-9月)
- 完成音频+字幕批量制卡功能
- 增加句子复述卡片类型，
- 增强用户界面体验

### 中期目标 (2025年10-12月)
- 支持更多音频格式
- 实现云端数据同步
- 添加社区分享功能

### 长期目标 (2026年)
- 多语言支持扩展
- 移动端应用开发
- 企业级功能集成

---

**最后更新**: 2025年7月11日  
**文档状态**: 当前版本  
**下一次更新**: Phase 3 完成后 